{"version":1,"windowDimensions":{"x":553,"y":0,"width":887,"height":896,"maximized":false},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9"],"buffers":[{"text":"/* 全デバイス共通・PC向けの記述 */\nhtml,body\t{\n\tmargin:0;\n\tpadding:0;\n\tposition:relative;\n\ttop:0;\n\ttext-align: center;\n}\n\nh1,p\t{\n\tmargin:0;\n}\n\nheader\t{\n\twidth:100%;\n\theight:50px;\n\tbackground-color:#ffcccc;\n\tdisplay: block;\n}\n\n#main\t{\n\tposition:relative;\n\twidth:100%;\n}\n\n.center\t{\n\tposition:absolute;\n\ttop:0;\n\tleft:20%;\n\twidth:60%;\n\theight:auto;\n\tbackground-color: #fcf;\n}\n\n.left\t{\n\tposition:absolute;\n\ttop:0;\n\tleft:0;\n\twidth:20%;\n\tbackground-color: #cff;\n}\n\n.right\t{\n\tposition: absolute;\n\ttop:0;\n\tright:0;\n\twidth:20%;\n\tbackground-color: #ffc;\n}\n\nfooter\t{\n\tposition:relative;\n\tbottom:0;\n\theight:50px;\n\twidth:100%;\n\tbackground-color: #ccffcc;\n\tdisplay: block;\n}\n\n/* 横幅480px以下(スマートフォンなど)向けの記述 */\n\n@media screen and (max-width: 480px) {\n\t#main\t{\n\t\tposition:relative;\n\t\twidth:100%;\n\t}\n\n\t.center\t{\n\t\tposition: relative;\n\t\ttop:0;\n\t\tleft:0;\n\t\twidth:100%;\n\t}\n\t\n\t.left\t{\n\t\tposition: relative;\n\t\ttop:auto;\n\t\tleft:auto;\n\t\twidth:100%;\n\t}\n\t\n\t.right\t{\n\t\tposition: relative;\n\t\twidth:100%;\n\t\ttop:auto;\n\t\tright:auto;\n\t}\n\n\tfooter\t{\n\t\tposition:relative;\n\t\theight:50px;\n\t\twidth:100%;\n\t\tbackground-color: #ccffcc;\n\t}\n}\n\n\n/* 横幅481px以上、768px以下(タブレットなど)向けの記述 */\n@media screen and (min-width: 481px) and (max-width: 768px) {\n\t#main\t{\n\t\tposition:relative;\n\t\twidth:100%;\n\t}\n\t\n\t.center\t{\n\t\tposition: relative;\n\t\ttop:0;\n\t\tleft:0;\n\t\twidth:100%;\n\t}\n\t\n\t.left\t{\n\t\tposition: relative;\n\t\ttop:auto;\n\t\tleft:auto;\n\t\twidth:50%;\n\t\tfloat:left;\n\t}\n\t\n\t.right\t{\n\t\tposition: relative;\n\t\twidth:50%;\n\t\ttop:auto;\n\t\tright:auto;\n\t\tfloat:right;\n\t}\n\tfooter\t{\n\t\tposition:relative;\n\t\tclear:both;\n\t\theight:50px;\n\t\twidth:100%;\n\t\tbackground-color: #ccffcc;\n\t}\n}\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":68,"column":12},"end":{"row":68,"column":20}},"properties":{"type":"selection","editorId":4,"goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9/style.css","digestWhenLastPersisted":"3de11e52cb29827a1d8ce28edd6159b88cab3ac1","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"\n\nvar express  = require('express');\nvar app      = express();\nvar server   = require('http').createServer(app);\nvar io       = require('socket.io')(server);\nvar port     = process.env.PORT || 3000;\nvar userHash = {};\n\n\nserver.listen(port, function () {\n  console.log('タチコマ：Server listening at port %d', port);\n});\n\n// Routing\napp.use(express.static(__dirname + '/public'));\n\n\n\n\nio.sockets.on(\"connection\", function (socket) {\n\n\n//ログインしたとき\n  socket.on(\"connected\", function(username) {\n\n    var messages = username + \" joined -->\"\n    io.sockets.emit(\"publish\", {value: messages});\n\n    userHash[socket.id] = username;\n    console.log(messages);\n\n  });\n\n//メッセージ送信\n  socket.on(\"publish\", function (data) {\n    console.log(\"タチコマ：順調です！\");\n    io.sockets.emit(\"publish\", {value:data.value});\n  });\n\n\n  socket.on(\"disconnect\", function () {\n\n    if (userHash[socket.id]) {\n\n      var message = userHash[socket.id] + \" left -->\";\n      delete userHash[socket.id];\n      io.sockets.emit(\"publish\", {value: message});\n\n    }\n\n  });\n\n\n\n\n\n\n\n\n});\n","markerStore":{"nextMarkerId":3,"markersById":{"0":{"range":{"start":{"row":27,"column":39},"end":{"row":27,"column":47}},"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/haco/works/web/echo/index.js","digestWhenLastPersisted":"0c7149f34141b3ff9b9d6ed7a0942610d44c8e63","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"$(function() {\n\n  var $usernameInput = $('.usernameInput');\n  var $messageInput  = $('.messageInput')\n  var $chatPage      = $('.chat');\n  var $login         = $('.login');\n  var $currentInput  = $usernameInput.focus();\n  var username;\n\n\n  var socket = io();\n  socket.on(\"connected\", function(username) {});\n  socket.on(\"publish\", function (data) { addMessage(data.value); });\n\n\n//オープニングアニメーション\n  $chatPage.hide();\n  $(window).load(function opening() {\n    $(\".login\").delay(600).fadeIn(\"slow\");\n  });\n\n\n//username設定と画面遷移\n  function setUsername () {\n\n    username = $usernameInput.val().trim();\n\n    // Tell the server your username\n    if (username != '') { socket.emit('connected', username); }\n\n    // If the username is valid\n    if (username) {\n      $login.fadeOut();\n      $chatPage.fadeIn();\n      $login.off('click');\n      $currentInput = $inputMessage.focus();\n\n    }\n  }\n\n  function addMessage(data) {\n\n    $(\".chat-main\").append(\"<p>\" + data + \"</p>\");\n\n  }\n\n\n//enterを押したときにイベント\n  $(window).keydown(function (event) {\n  // Auto-focus the current input when a key is typed\n    if (!(event.ctrlKey || event.metaKey || event.altKey)) {\n      $currentInput.focus();\n    }\n\n\n    if (event.which === 13) {\n      if (username) {\n        if ($messageInput.val() != '') {\n          var message = username + \": \" + $messageInput.val();\n          socket.emit(\"publish\", {value: message});\n          $messageInput.val('');\n        }\n\n      } else {\n        setUsername();\n\n      }\n    }\n\n\n  });\n\n\n\n\n});\n","markerStore":{"nextMarkerId":17,"markersById":{"0":{"range":{"start":{"row":54,"column":0},"end":{"row":54,"column":0}},"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"14":{"range":{"start":{"row":65,"column":0},"end":{"row":65,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":false,"invalidate":"overlap","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":26,"undoStack":[{"type":"group-start","snapshot":{"0":{"range":[[64,22],[64,22]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[64,22],[64,22]],"newRange":[[64,22],[65,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[65,0],[65,0]],"newRange":[[65,0],[65,8]],"oldText":"","newText":"        "}},{"type":"group-end","snapshot":{"0":{"range":[[65,8],[65,8]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,8],[65,8]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,8],[65,8]],"newRange":[[65,8],[65,9]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[65,9],[65,9]],"newRange":[[65,9],[65,10]],"oldText":"","newText":"o"}},{"type":"group-end","snapshot":{"0":{"range":[[65,10],[65,10]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,10],[65,10]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,8],[65,10]],"newRange":[[65,8],[65,11]],"oldText":"lo","newText":"log"}},{"type":"group-end","snapshot":{"0":{"range":[[65,11],[65,11]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,11],[65,11]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,8],[65,11]],"newRange":[[65,8],[65,22]],"oldText":"log","newText":"console.log();"}},{"type":"group-end","snapshot":{"0":{"range":[[65,20],[65,20]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,20],[65,20]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,20],[65,20]],"newRange":[[65,20],[65,22]],"oldText":"","newText":"\"\""}},{"type":"group-end","snapshot":{"0":{"range":[[65,22],[65,22]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,21],[65,21]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,21],[65,21]],"newRange":[[65,21],[65,22]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[65,22],[65,22]],"newRange":[[65,22],[65,23]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[65,23],[65,23]],"newRange":[[65,23],[65,24]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[65,24],[65,24]],"newRange":[[65,24],[65,25]],"oldText":"","newText":"s"}},{"type":"group-end","snapshot":{"0":{"range":[[65,25],[65,25]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,8],[65,28]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,8],[65,28]],"newRange":[[65,8],[65,8]],"oldText":"console.log(\"dsds\");","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[65,8],[65,8]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[54,0],[54,51]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[54,0],[54,51]],"newRange":[[54,0],[54,0]],"oldText":"    // When the client hits ENTER on their keyboard","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[54,0],[54,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[54,0],[54,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[53,0],[54,0]],"newRange":[[53,0],[53,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[53,0],[53,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[53,0],[53,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[54,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[53,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[54,0],[54,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[54,0],[54,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[65,0],[65,8]],"newRange":[[65,0],[65,0]],"oldText":"        ","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[54,0],[54,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"includeNonWordCharacters":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/Users/haco/Dropbox/echo/public/main.js","digestWhenLastPersisted":"8c124e8d14301badd8003aa02a5cb40a1fd5d5f0","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":false,"scrollRow":57,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9/style.css","largeFileMode":false},"largeFileMode":false}},{"deserializer":"TextEditor","id":8,"softTabs":true,"scrollRow":12,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/haco/works/web/echo/index.js","largeFileMode":false},"largeFileMode":false}},{"deserializer":"TextEditor","id":12,"softTabs":true,"scrollRow":38,"displayBuffer":{"deserializer":"DisplayBuffer","id":13,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/Users/haco/Dropbox/echo/public/main.js","largeFileMode":false},"largeFileMode":false}}],"activeItemURI":"/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9/style.css","focused":false,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-css","language-javascript","language-hyperlink","language-todo"],"destroyedItemURIs":[]},"packageStates":{"fuzzy-finder":{"/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9/style.css":1450781793498,"/Users/haco/works/web/echo/index.js":1450781792473,"/Users/haco/Dropbox/echo/public/main.js":1450764298966},"metrics":{"sessionLength":21993184},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9":{"isExpanded":true,"entries":{"js":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/haco/Downloads/MdN_Web37/Chapter1/001/Step5-9/style.css","hasFocus":true,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}